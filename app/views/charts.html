<!-- charts.html -->
{% extends "layout.html" %}

{% set pageTitle = "Charts" %}

<!-- {# Add html between {% block content %} and {% endblock %} #}-->
{% block content %}
<div class="site-masthead">
  <h1 class="site-masthead__title">{{pageTitle}}</h1>
</div>

<div class="site-card">
  <div id="chartOne" style="width: 100%; height: 240px;"></div>
  <div id="legendOne"></div>
</div>

<!-- FOR LOCAL -->
<script>dojoConfig = {async: true}</script>
<script src="./dojo/dojo.js" data-dojo-config="async: true"></script>
<!-- FOR ONLINE -->
<script data-dojo-config="async: 1, dojoBlankHtmlUrl: './dojo/resources/blank.html',
        packages: [ {
            name: 'custom',
            location: location.pathname.replace(/\/[^/]+$/, '') + '/js/custom'
        } ]"
    src="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"></script>

<script>
  require(["dojox/charting/Chart", "dojox/charting/plot2d/Pie", "dojox/charting/action2d/Highlight",
           "dojox/charting/action2d/MoveSlice" , "dojox/charting/action2d/Tooltip",
           "dojox/charting/themes/MiamiNice", "dojox/charting/widget/Legend", "dojo/ready"],
    function(Chart, Pie, Highlight, MoveSlice, Tooltip, MiamiNice, Legend, ready){
    ready(function(){
      var chartOne = new Chart("chartOne");
      chartOne.setTheme(MiamiNice)
       .addPlot("default", {
          type: Pie,
          font: "bold normal .75rem Arial",
          fontColor: "#292f32",
          labelOffset: -24,
          radius: 80
      }).addSeries("Series A", [
          {y: 4, text: "Red",   stroke: "white", fill: "#88a4e8", tooltip: "<strong>Tooltip Stat</strong><br>20%"},
          {y: 2, text: "Green", stroke: "white", fill: "#83c7e6", tooltip: "<strong>Tooltip Stat</strong><br>25%"},
          {y: 1, text: "Blue",  stroke: "white", fill: "#8aeaa3", tooltip: "<strong>Tooltip Stat</strong><br>20%"},
          {y: 1, text: "Other", stroke: "white", fill: "#fde568", tooltip: "<strong>Tooltip Stat</strong><br>45%"}
      ]);
      var anim_a = new MoveSlice(chartOne, "default");
      var anim_b = new Highlight(chartOne, "default");
      var anim_c = new Tooltip(chartOne, "default");
      chartOne.render();
      var legendOne = new Legend({chart: chartOne}, "legendOne");
    });
  });
</script>
{% endblock %}
